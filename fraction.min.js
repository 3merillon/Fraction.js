/*
Fraction.js v2.0.0 01/06/2015
http://www.xarg.org/2014/03/precise-calculations-in-javascript/

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(y){function v(a,b){for(var f;b;)f=a,a=b,b=f%b;return a}function w(a,b){if(0===b%2)return w(a,b/2);if(0===b%5)return w(a,b/5);for(var f=1;2E3>f;f++)if(1===x(f,b))return f;return 0}function x(a,b){for(var f=10,k=1;0<a;f=f*f%b,a>>=1)a&1&&(k=k*f%b);return k}function h(a,b){var f=0,k=1,c=1,h=0,m=0,p=0,l=1,r=1,e=0,g=1,t=1,q=1;if(void 0!==a&&null!==a)if(void 0!==b)f=a,k=b,c=f*k;else switch(typeof a){case "object":"d"in a&&"n"in a?(f=a.n,k=a.d,"s"in a&&(f*=a.s)):0 in a?(f=a[0],1 in a&&(k=a[1])):
u();c=f*k;break;case "number":0>a&&(c=a,a=-a);if(0===a%1)f=a;else if(0<a){1<=a&&(r=Math.pow(10,Math.floor(1+Math.log(a)/Math.LN10)),a/=r);for(;1E7>=g&&1E7>=q;)if(f=(e+t)/(g+q),a===f){1E7>=g+q?(f=e+t,k=g+q):q>g?(f=t,k=q):(f=e,k=g);break}else a>f?(e+=t,g+=q):(t+=e,q+=g),1E7<g?(f=t,k=q):(f=e,k=g);f*=r}break;case "string":g=a.match(/\d+|./g);"-"===g[e]?(c=-1,e++):"+"===g[e]&&e++;if(g.length===e+1)m=n(g[e++],c);else if("."===g[e+1]||"."===g[e]){"."!==g[e]&&(h=n(g[e++],c));e++;if(e+1===g.length||"("===
g[e+1]&&")"===g[e+3]||"'"===g[e+1]&&"'"===g[e+3])m=n(g[e],c),l=Math.pow(10,g[e].length),e++;if("("===g[e]&&")"===g[e+2]||"'"===g[e]&&"'"===g[e+2])p=n(g[e+1],c),r=Math.pow(10,g[e+1].length)-1,e+=3}else"/"===g[e+1]?(m=n(g[e],c),l=n(g[e+2],1),e+=3):"/"===g[e+3]&&" "===g[e+1]&&(h=n(g[e],c),m=n(g[e+2],c),l=n(g[e+4],1),e+=5);g.length>e&&u();c=f=p+r*(h*l+m);k=l*r;break;default:u()}if(!k)throw"DIV/0";d.s=(0<=c)-(0>c);d.n=Math.abs(f);d.d=Math.abs(k)}function n(a,b){isNaN(a=parseInt(a,10))&&u();return a*b}
function u(){throw"Invalid Param";}function c(a,b){h(a,b);a=v(d.d,d.n);this.s=d.s;this.n=d.n/a;this.d=d.d/a}var d={n:0,d:0,s:0};c.prototype.s=1;c.prototype.n=0;c.prototype.d=1;c.prototype.abs=function(){return new c(this.n,this.d)};c.prototype.add=function(a,b){h(a,b);return new c(this.s*this.n*d.d+d.s*this.d*d.n,this.d*d.d)};c.prototype.sub=function(a,b){h(a,b);return new c(this.s*this.n*d.d-d.s*this.d*d.n,this.d*d.d)};c.prototype.mul=function(a,b){h(a,b);return new c(this.s*d.s*this.n*d.n,this.d*
d.d)};c.prototype.div=function(a,b){h(a,b);return new c(this.s*d.s*this.n*d.d,this.d*d.n)};c.prototype.clone=function(){return new c(this)};c.prototype.mod=function(a,b){h(a,b);0===d.n*this.d&&c(0,0);return new c(this.s*d.d*this.n%(d.n*this.d),d.d*this.d)};c.prototype.gcd=function(a,b){h(a,b);return new c(v(d.n,this.n),d.d*this.d/v(d.d,this.d))};c.prototype.ceil=function(){return new c(Math.ceil(this.s*this.n/this.d),1)};c.prototype.floor=function(){return new c(Math.floor(this.s*this.n/this.d),1)};
c.prototype.round=function(){return new c(Math.round(this.s*this.n/this.d),1)};c.prototype.reciprocal=function(){return new c(this.s*this.d,this.n)};c.prototype.pow=function(a){var b=this.d,f=this.n;0>a?(this.d=Math.pow(f,-a),this.n=Math.pow(b,-a)):(this.d=Math.pow(b,a),this.n=Math.pow(f,a));0===a%2&&(this.s=1);return this};c.prototype.equals=function(a,b){h(a,b);return this.s*this.n*d.d===d.s*d.n*this.d};c.prototype.compare=function(a,b){h(a,b);var f=this.s*this.n*d.d-d.s*d.n*this.d;return(0<f)-
(0>f)};c.prototype.divisible=function(a,b){h(a,b);return!!(d.n*this.d)&&!(this.n*d.d%(d.n*this.d))};c.prototype.valueOf=function(){return this.s*this.n/this.d};c.prototype.toFraction=function(){var a,b="",f=this.n,c=this.d;0>this.s&&(b+="-");1===c?b+=f:(a=Math.floor(f/c),0<a&&(b=b+a+" ",f=f%c),b+=f,b+="/",b+=c);return b};c.prototype.toLatex=function(){var a,b="",f=this.n,c=this.d;0>this.s&&(b+="-");1===c?b+=f:(a=Math.floor(f/c),0<a&&(b+=a,f=f%c),b=b+"\frac{"+f,b+="}{",b+=c,b+="}");return b};c.prototype.toString=
function(){var a=String(this.n).split(""),b=this.d,c=0,d=[~this.s?"":"-","",""],h="",n=w(this.n,this.d),m;a:{m=this.d;for(var p=0;300>p;p++)if(x(p,m)===x(p+n,m)){m=p;break a}m=0}for(var p=-1,l=1,r=10+n+m+a.length,e=0;e<r;e++,c*=10){e<a.length?c+=Number(a[e]):(l=2,p++);if(0<n)if(p===m)d[l]+=h+"(",h="";else if(p===n+m){d[l]+=h+")";break}c>=b?(d[l]+=h+(c/b|0),h="",c%=b):1<l?h+="0":d[l]&&(d[l]+="0")}d[0]+=d[1]||"0";return d[2]?d[0]+"."+d[2]:d[0]};"function"===typeof define&&define.amd?define([],function(){return c}):
"object"===typeof exports?module.exports=c:y.Fraction=c})(this);

/*
Fraction.js v2.2.0 01/06/2015
http://www.xarg.org/2014/03/precise-calculations-in-javascript/

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(y){"use strict";function u(a,c){for(var f;c;)f=a,a=c,c=f%c;return a}function v(a,c){if(0===c%2)return v(a,c/2);if(0===c%5)return v(a,c/5);for(var f=1;2E3>f;f++)if(1===w(f,c))return f;return 0}function w(a,c){for(var f=10,h=1;0<a;f=f*f%c,a>>=1)a&1&&(h=h*f%c);return h}function k(a,c){var f=0,h=1,b=1,k=0,m=0,n=0,l=1,t=1,d=0,g=1,r=1,q=1;if(void 0!==a&&null!==a)if(void 0!==c)f=a,h=c,b=f*h;else switch(typeof a){case "object":"d"in a&&"n"in a?(f=a.n,h=a.d,"s"in a&&(f*=a.s)):0 in a?(f=a[0],1 in a&&(h=a[1])):
x();b=f*h;break;case "number":0>a&&(b=a,a=-a);if(0===a%1)f=a;else if(0<a){1<=a&&(t=Math.pow(10,Math.floor(1+Math.log(a)/Math.LN10)),a/=t);for(;1E7>=g&&1E7>=q;)if(f=(d+r)/(g+q),a===f){1E7>=g+q?(f=d+r,h=g+q):q>g?(f=r,h=q):(f=d,h=g);break}else a>f?(d+=r,g+=q):(r+=d,q+=g),1E7<g?(f=r,h=q):(f=d,h=g);f*=t}break;case "string":g=a.match(/\d+|./g);"-"===g[d]?(b=-1,d++):"+"===g[d]&&d++;if(g.length===d+1)m=p(g[d++],b);else if("."===g[d+1]||"."===g[d]){"."!==g[d]&&(k=p(g[d++],b));d++;if(d+1===g.length||"("===
g[d+1]&&")"===g[d+3]||"'"===g[d+1]&&"'"===g[d+3])m=p(g[d],b),l=Math.pow(10,g[d].length),d++;if("("===g[d]&&")"===g[d+2]||"'"===g[d]&&"'"===g[d+2])n=p(g[d+1],b),t=Math.pow(10,g[d+1].length)-1,d+=3}else"/"===g[d+1]||":"===g[d+1]?(m=p(g[d],b),l=p(g[d+2],1),d+=3):"/"===g[d+3]&&" "===g[d+1]&&(k=p(g[d],b),m=p(g[d+2],b),l=p(g[d+4],1),d+=5);if(g.length<=d){b=f=n+t*(k*l+m);h=l*t;break}default:x()}if(!h)throw"DIV/0";e.s=(0<=b)-(0>b);e.n=Math.abs(f);e.d=Math.abs(h)}function p(a,c){isNaN(a=parseInt(a,10))&&x();
return a*c}function x(){throw"Invalid Param";}function b(a,c){k(a,c);a=u(e.d,e.n);this.s=e.s;this.n=e.n/a;this.d=e.d/a}var e={n:0,d:0,s:0};b.prototype.s=1;b.prototype.n=0;b.prototype.d=1;b.prototype.abs=function(){return new b(this.n,this.d)};b.prototype.neg=function(){return new b(-this.s*this.n,this.d)};b.prototype.add=function(a,c){k(a,c);return new b(this.s*this.n*e.d+e.s*this.d*e.n,this.d*e.d)};b.prototype.sub=function(a,c){k(a,c);return new b(this.s*this.n*e.d-e.s*this.d*e.n,this.d*e.d)};b.prototype.mul=
function(a,c){k(a,c);return new b(this.s*e.s*this.n*e.n,this.d*e.d)};b.prototype.div=function(a,c){k(a,c);return new b(this.s*e.s*this.n*e.d,this.d*e.n)};b.prototype.clone=function(){return new b(this)};b.prototype.mod=function(a,c){if(void 0===a)return new b(this.s*this.n%this.d,1);k(a,c);0===e.n*this.d&&b(0,0);return new b(this.s*e.d*this.n%(e.n*this.d),e.d*this.d)};b.prototype.gcd=function(a,c){k(a,c);return new b(u(e.n,this.n),e.d*this.d/u(e.d,this.d))};b.prototype.ceil=function(){return new b(Math.ceil(this.s*
this.n/this.d),1)};b.prototype.floor=function(){return new b(Math.floor(this.s*this.n/this.d),1)};b.prototype.round=function(){return new b(Math.round(this.s*this.n/this.d),1)};b.prototype.reciprocal=function(){return new b(this.s*this.d,this.n)};b.prototype.pow=function(a){var c=this.d,f=this.n;0>a?(this.d=Math.pow(f,-a),this.n=Math.pow(c,-a)):(this.d=Math.pow(c,a),this.n=Math.pow(f,a));0===a%2&&(this.s=1);return this};b.prototype.equals=function(a,c){k(a,c);return this.s*this.n*e.d===e.s*e.n*this.d};
b.prototype.compare=function(a,c){k(a,c);var f=this.s*this.n*e.d-e.s*e.n*this.d;return(0<f)-(0>f)};b.prototype.divisible=function(a,c){k(a,c);return!!(e.n*this.d)&&!(this.n*e.d%(e.n*this.d))};b.prototype.valueOf=function(){return this.s*this.n/this.d};b.prototype.toFraction=function(){var a,c="",f=this.n,b=this.d;0>this.s&&(c+="-");1===b?c+=f:(a=Math.floor(f/b),0<a&&(c=c+a+" ",f=f%b),c+=f,c+="/",c+=b);return c};b.prototype.toLatex=function(){var a,c="",b=this.n,h=this.d;0>this.s&&(c+="-");1===h?c+=
b:(a=Math.floor(b/h),0<a&&(c+=a,b=b%h),c=c+"\frac{"+b,c+="}{",c+=h,c+="}");return c};b.prototype.toString=function(){var a=String(this.n).split(""),c=this.d,b=0,h=[~this.s?"":"-","",""],e="",k=v(this.n,this.d),m;a:{m=this.d;for(var n=0;300>n;n++)if(w(n,m)===w(n+k,m)){m=n;break a}m=0}for(var n=-1,l=1,p=10+k+m+a.length,d=0;d<p;d++,b*=10){d<a.length?b+=Number(a[d]):(l=2,n++);if(0<k)if(n===m)h[l]+=e+"(",e="";else if(n===k+m){h[l]+=e+")";break}b>=c?(h[l]+=e+(b/c|0),e="",b%=c):1<l?e+="0":h[l]&&(h[l]+="0")}h[0]+=
h[1]||"0";return h[2]?h[0]+"."+h[2]:h[0]};"function"===typeof define&&define.amd?define([],function(){return b}):"object"===typeof exports?module.exports=b:y.Fraction=b})(this);

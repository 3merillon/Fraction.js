/*
Fraction.js v2.6.0 01/06/2015
http://www.xarg.org/2014/03/precise-calculations-in-javascript/

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(x){"use strict";function t(a,b){for(var c;b;)c=a,a=b,b=c%b;return a}function y(a){for(;0===a%2;)a/=2;for(;0===a%5;)a/=5;if(1===a)return 0;for(var b=10%a,c=1;1!==b;c++)if(b=10*b%a,2E3<c)return 0;return c}function v(a,b){for(var c=10,f=1;0<a;c=c*c%b,a>>=1)a&1&&(f=f*c%b);return f}function k(a,b){var c=0,f=1,h=1,k=0,m=0,w=0,l=1,q=1,d=0,g=1,r=1,p=1;if(void 0!==a&&null!==a)if(void 0!==b)c=a,f=b,h=c*f;else switch(typeof a){case "object":"d"in a&&"n"in a?(c=a.n,f=a.d,"s"in a&&(c*=a.s)):0 in a?(c=a[0],1 in a&&
(f=a[1])):u();h=c*f;break;case "number":0>a&&(h=a,a=-a);if(0===a%1)c=a;else if(0<a){1<=a&&(q=Math.pow(10,Math.floor(1+Math.log(a)/Math.LN10)),a/=q);for(;1E7>=g&&1E7>=p;)if(c=(d+r)/(g+p),a===c){1E7>=g+p?(c=d+r,f=g+p):p>g?(c=r,f=p):(c=d,f=g);break}else a>c?(d+=r,g+=p):(r+=d,p+=g),1E7<g?(c=r,f=p):(c=d,f=g);c*=q}break;case "string":g=a.match(/\d+|./g);"-"===g[d]?(h=-1,d++):"+"===g[d]&&d++;if(g.length===d+1)m=n(g[d++],h);else if("."===g[d+1]||"."===g[d]){"."!==g[d]&&(k=n(g[d++],h));d++;if(d+1===g.length||
"("===g[d+1]&&")"===g[d+3]||"'"===g[d+1]&&"'"===g[d+3])m=n(g[d],h),l=Math.pow(10,g[d].length),d++;if("("===g[d]&&")"===g[d+2]||"'"===g[d]&&"'"===g[d+2])w=n(g[d+1],h),q=Math.pow(10,g[d+1].length)-1,d+=3}else"/"===g[d+1]||":"===g[d+1]?(m=n(g[d],h),l=n(g[d+2],1),d+=3):"/"===g[d+3]&&" "===g[d+1]&&(k=n(g[d],h),m=n(g[d+2],h),l=n(g[d+4],1),d+=5);if(g.length<=d){h=c=w+q*(k*l+m);f=l*q;break}default:u()}if(!f)throw"DIV/0";e.s=0>h?-1:1;e.n=Math.abs(c);e.d=Math.abs(f)}function n(a,b){isNaN(a=parseInt(a,10))&&
u();return a*b}function u(){throw"Invalid Param";}function h(a,b){if(!(this instanceof h))return new h(a,b);k(a,b);h.REDUCE?a=t(e.d,e.n):a=1;this.s=e.s;this.n=e.n/a;this.d=e.d/a}var e={n:0,d:0,s:0};h.REDUCE=1;h.prototype={s:1,n:0,d:1,abs:function(){return new h(this.n,this.d)},neg:function(){return new h(-this.s*this.n,this.d)},add:function(a,b){k(a,b);return new h(this.s*this.n*e.d+e.s*this.d*e.n,this.d*e.d)},sub:function(a,b){k(a,b);return new h(this.s*this.n*e.d-e.s*this.d*e.n,this.d*e.d)},mul:function(a,
b){k(a,b);return new h(this.s*e.s*this.n*e.n,this.d*e.d)},div:function(a,b){k(a,b);return new h(this.s*e.s*this.n*e.d,this.d*e.n)},clone:function(){return new h(this)},mod:function(a,b){if(void 0===a)return new h(this.s*this.n%this.d,1);k(a,b);0===e.n*this.d&&h(0,0);return new h(this.s*e.d*this.n%(e.n*this.d),e.d*this.d)},gcd:function(a,b){k(a,b);return new h(t(e.n,this.n),e.d*this.d/t(e.d,this.d))},ceil:function(){return new h(Math.ceil(this.s*this.n/this.d),1)},floor:function(){return new h(Math.floor(this.s*
this.n/this.d),1)},round:function(){return new h(Math.round(this.s*this.n/this.d),1)},inverse:function(){return new h(this.s*this.d,this.n)},pow:function(a){var b=this.d,c=this.n;0>a?(this.d=Math.pow(c,-a),this.n=Math.pow(b,-a)):(this.d=Math.pow(b,a),this.n=Math.pow(c,a));0===a%2&&(this.s=1);return this},equals:function(a,b){k(a,b);return this.s*this.n*e.d===e.s*e.n*this.d},compare:function(a,b){k(a,b);var c=this.s*this.n*e.d-e.s*e.n*this.d;return(0<c)-(0>c)},divisible:function(a,b){k(a,b);return!!(e.n*
this.d)&&!(this.n*e.d%(e.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(){var a,b="",c=this.n,f=this.d;0>this.s&&(b+="-");1===f?b+=c:(a=Math.floor(c/f),0<a&&(b=b+a+" ",c=c%f),b+=c,b+="/",b+=f);return b},toLatex:function(){var a,b="",c=this.n,f=this.d;0>this.s&&(b+="-");1===f?b+=c:(a=Math.floor(c/f),0<a&&(b+=a,c=c%f),b=b+"\\frac{"+c,b+="}{",b+=f,b+="}");return b},toString:function(){var a,b=this.n,c=this.d;h.REDUCE||(a=t(b,c),b/=a,c/=a);a=String(b).split("");var b=
0,f=[~this.s?"":"-","",""],e="",k=y(c),m;a:{for(m=0;300>m;m++)if(v(m,c)===v(m+k,c))break a;m=0}for(var n=-1,l=1,q=10+k+m+a.length,d=0;d<q;d++,b*=10){d<a.length?b+=Number(a[d]):(l=2,n++);if(0<k)if(n===m)f[l]+=e+"(",e="";else if(n===k+m){f[l]+=e+")";break}b>=c?(f[l]+=e+(b/c|0),e="",b%=c):1<l?e+="0":f[l]&&(f[l]+="0")}f[0]+=f[1]||"0";return f[2]?f[0]+"."+f[2]:f[0]}};"function"===typeof define&&define.amd?define([],function(){return h}):"object"===typeof exports?module.exports=h:x.Fraction=h})(this);

/*
Fraction.js v2.4.1 01/06/2015
http://www.xarg.org/2014/03/precise-calculations-in-javascript/

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(z){"use strict";function v(a,c){for(var g;c;)g=a,a=c,c=g%c;return a}function w(a,c){if(0===c%2)return w(a,c/2);if(0===c%5)return w(a,c/5);for(var g=1;2E3>g;g++)if(1===x(g,c))return g;return 0}function x(a,c){for(var g=10,b=1;0<a;g=g*g%c,a>>=1)a&1&&(b=b*g%c);return b}function k(a,c){var g=0,b=1,h=1,k=0,n=0,p=0,l=1,u=1,e=0,f=1,t=1,r=1;if(void 0!==a&&null!==a)if(void 0!==c)g=a,b=c,h=g*b;else switch(typeof a){case "object":"d"in a&&"n"in a?(g=a.n,b=a.d,"s"in a&&(g*=a.s)):0 in a?(g=a[0],1 in a&&(b=a[1])):
y();h=g*b;break;case "number":0>a&&(h=a,a=-a);if(0===a%1)g=a;else if(0<a){1<=a&&(u=Math.pow(10,Math.floor(1+Math.log(a)/Math.LN10)),a/=u);for(;1E7>=f&&1E7>=r;)if(g=(e+t)/(f+r),a===g){1E7>=f+r?(g=e+t,b=f+r):r>f?(g=t,b=r):(g=e,b=f);break}else a>g?(e+=t,f+=r):(t+=e,r+=f),1E7<f?(g=t,b=r):(g=e,b=f);g*=u}break;case "string":f=a.match(/\d+|./g);"-"===f[e]?(h=-1,e++):"+"===f[e]&&e++;if(f.length===e+1)n=q(f[e++],h);else if("."===f[e+1]||"."===f[e]){"."!==f[e]&&(k=q(f[e++],h));e++;if(e+1===f.length||"("===
f[e+1]&&")"===f[e+3]||"'"===f[e+1]&&"'"===f[e+3])n=q(f[e],h),l=Math.pow(10,f[e].length),e++;if("("===f[e]&&")"===f[e+2]||"'"===f[e]&&"'"===f[e+2])p=q(f[e+1],h),u=Math.pow(10,f[e+1].length)-1,e+=3}else"/"===f[e+1]||":"===f[e+1]?(n=q(f[e],h),l=q(f[e+2],1),e+=3):"/"===f[e+3]&&" "===f[e+1]&&(k=q(f[e],h),n=q(f[e+2],h),l=q(f[e+4],1),e+=5);if(f.length<=e){h=g=p+u*(k*l+n);b=l*u;break}default:y()}if(!b)throw"DIV/0";d.s=0>h?-1:1;d.n=Math.abs(g);d.d=Math.abs(b)}function q(a,c){isNaN(a=parseInt(a,10))&&y();return a*
c}function y(){throw"Invalid Param";}function b(a,c){if(!(this instanceof b))return new b(a,c);k(a,c);a=v(d.d,d.n);this.s=d.s;this.n=d.n/a;this.d=d.d/a}var d={n:0,d:0,s:0};b.prototype.s=1;b.prototype.n=0;b.prototype.d=1;b.prototype.abs=function(){return new b(this.n,this.d)};b.prototype.neg=function(){return new b(-this.s*this.n,this.d)};b.prototype.add=function(a,c){k(a,c);return new b(this.s*this.n*d.d+d.s*this.d*d.n,this.d*d.d)};b.prototype.sub=function(a,c){k(a,c);return new b(this.s*this.n*d.d-
d.s*this.d*d.n,this.d*d.d)};b.prototype.mul=function(a,c){k(a,c);return new b(this.s*d.s*this.n*d.n,this.d*d.d)};b.prototype.div=function(a,c){k(a,c);return new b(this.s*d.s*this.n*d.d,this.d*d.n)};b.prototype.clone=function(){return new b(this)};b.prototype.mod=function(a,c){if(void 0===a)return new b(this.s*this.n%this.d,1);k(a,c);0===d.n*this.d&&b(0,0);return new b(this.s*d.d*this.n%(d.n*this.d),d.d*this.d)};b.prototype.gcd=function(a,c){k(a,c);return new b(v(d.n,this.n),d.d*this.d/v(d.d,this.d))};
b.prototype.ceil=function(){return new b(Math.ceil(this.s*this.n/this.d),1)};b.prototype.floor=function(){return new b(Math.floor(this.s*this.n/this.d),1)};b.prototype.round=function(){return new b(Math.round(this.s*this.n/this.d),1)};b.prototype.inverse=function(){return new b(this.s*this.d,this.n)};b.prototype.pow=function(a){var c=this.d,b=this.n;0>a?(this.d=Math.pow(b,-a),this.n=Math.pow(c,-a)):(this.d=Math.pow(c,a),this.n=Math.pow(b,a));0===a%2&&(this.s=1);return this};b.prototype.equals=function(a,
c){k(a,c);return this.s*this.n*d.d===d.s*d.n*this.d};b.prototype.compare=function(a,c){k(a,c);var b=this.s*this.n*d.d-d.s*d.n*this.d;return(0<b)-(0>b)};b.prototype.divisible=function(a,c){k(a,c);return!!(d.n*this.d)&&!(this.n*d.d%(d.n*this.d))};b.prototype.valueOf=function(){return this.s*this.n/this.d};b.prototype.toFraction=function(){var a,c="",b=this.n,d=this.d;0>this.s&&(c+="-");1===d?c+=b:(a=Math.floor(b/d),0<a&&(c=c+a+" ",b=b%d),c+=b,c+="/",c+=d);return c};b.prototype.toLatex=function(){var a,
c="",b=this.n,d=this.d;0>this.s&&(c+="-");1===d?c+=b:(a=Math.floor(b/d),0<a&&(c+=a,b=b%d),c=c+"\\frac{"+b,c+="}{",c+=d,c+="}");return c};b.prototype.toString=function(){var a=String(this.n).split(""),b=this.d,d=0,m=[~this.s?"":"-","",""],h="",k=w(this.n,this.d),n;a:{n=this.d;for(var p=0;300>p;p++)if(x(p,n)===x(p+k,n)){n=p;break a}n=0}for(var p=-1,l=1,q=10+k+n+a.length,e=0;e<q;e++,d*=10){e<a.length?d+=Number(a[e]):(l=2,p++);if(0<k)if(p===n)m[l]+=h+"(",h="";else if(p===k+n){m[l]+=h+")";break}d>=b?(m[l]+=
h+(d/b|0),h="",d%=b):1<l?h+="0":m[l]&&(m[l]+="0")}m[0]+=m[1]||"0";return m[2]?m[0]+"."+m[2]:m[0]};"function"===typeof define&&define.amd?define([],function(){return b}):"object"===typeof exports?module.exports=b:z.Fraction=b})(this);

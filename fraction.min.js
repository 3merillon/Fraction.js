/*
Fraction.js v4.0.4 09/09/2015
http://www.xarg.org/2014/03/rational-numbers-in-javascript/

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(w){function k(a,c){var d=0,l=1,h=1,g=0,k=0,p=0,t=1,q=1,e=0,f=1,r=1,n=1;if(void 0!==a&&null!==a)if(void 0!==c)d=a,l=c,h=d*l;else switch(typeof a){case "object":"d"in a&&"n"in a?(d=a.n,l=a.d,"s"in a&&(d*=a.s)):0 in a?(d=a[0],1 in a&&(l=a[1])):u();h=d*l;break;case "number":0>a&&(h=a,a=-a);if(0===a%1)d=a;else if(0<a){1<=a&&(q=Math.pow(10,Math.floor(1+Math.log(a)/Math.LN10)),a/=q);for(;1E7>=f&&1E7>=n;)if(d=(e+r)/(f+n),a===d){1E7>=f+n?(d=e+r,l=f+n):n>f?(d=r,l=n):(d=e,l=f);break}else a>d?(e+=r,
f+=n):(r+=e,n+=f),1E7<f?(d=r,l=n):(d=e,l=f);d*=q}else if(isNaN(a)||isNaN(c))l=d=NaN;break;case "string":f=a.match(/\d+|./g);null===f&&u();"-"===f[e]?(h=-1,e++):"+"===f[e]&&e++;if(f.length===e+1)k=m(f[e++],h);else if("."===f[e+1]||"."===f[e]){"."!==f[e]&&(g=m(f[e++],h));e++;if(e+1===f.length||"("===f[e+1]&&")"===f[e+3]||"'"===f[e+1]&&"'"===f[e+3])k=m(f[e],h),t=Math.pow(10,f[e].length),e++;if("("===f[e]&&")"===f[e+2]||"'"===f[e]&&"'"===f[e+2])p=m(f[e+1],h),q=Math.pow(10,f[e+1].length)-1,e+=3}else"/"===
f[e+1]||":"===f[e+1]?(k=m(f[e],h),t=m(f[e+2],1),e+=3):"/"===f[e+3]&&" "===f[e+1]&&(g=m(f[e],h),k=m(f[e+2],h),t=m(f[e+4],1),e+=5);if(f.length<=e){l=t*q;h=d=p+l*g+q*k;break}default:u()}if(0===l)throw new x;b.s=0>h?-1:1;b.n=Math.abs(d);b.d=Math.abs(l)}function v(a){function c(){var c=Error.apply(this,arguments);c.name=this.name=a;this.stack=c.stack;this.message=c.message}function d(){}d.prototype=Error.prototype;c.prototype=new d;return c}function m(a,c){isNaN(a=parseInt(a,10))&&u();return a*c}function u(){throw new y;
}function p(a,c){if(!a)return c;if(!c)return a;for(;;){a%=c;if(!a)return c;c%=a;if(!c)return a}}function g(a,c){if(!(this instanceof g))return new g(a,c);k(a,c);a=g.REDUCE?p(b.d,b.n):1;this.s=b.s;this.n=b.n/a;this.d=b.d/a}var b={s:1,n:0,d:1},x=g.DivisionByZero=v("DivisionByZero"),y=g.InvalidParameter=v("InvalidParameter");g.REDUCE=1;g.prototype={s:1,n:0,d:1,abs:function(){return new g(this.n,this.d)},neg:function(){return new g(-this.s*this.n,this.d)},add:function(a,c){k(a,c);return new g(this.s*
this.n*b.d+b.s*this.d*b.n,this.d*b.d)},sub:function(a,c){k(a,c);return new g(this.s*this.n*b.d-b.s*this.d*b.n,this.d*b.d)},mul:function(a,c){k(a,c);return new g(this.s*b.s*this.n*b.n,this.d*b.d)},div:function(a,c){k(a,c);return new g(this.s*b.s*this.n*b.d,this.d*b.n)},clone:function(){return new g(this)},mod:function(a,c){if(isNaN(this.n)||isNaN(this.d))return new g(NaN);if(void 0===a)return new g(this.s*this.n%this.d,1);k(a,c);0===b.n&&0===this.d&&g(0,0);return new g(this.s*b.d*this.n%(b.n*this.d),
b.d*this.d)},gcd:function(a,c){k(a,c);return new g(p(b.n,this.n)*p(b.d,this.d),b.d*this.d)},lcm:function(a,c){k(a,c);return 0===b.n&&0===this.n?new g:new g(b.n*this.n,p(b.n,this.n)*p(b.d,this.d))},ceil:function(a){a=Math.pow(10,a||0);return isNaN(this.n)||isNaN(this.d)?new g(NaN):new g(Math.ceil(a*this.s*this.n/this.d),a)},floor:function(a){a=Math.pow(10,a||0);return isNaN(this.n)||isNaN(this.d)?new g(NaN):new g(Math.floor(a*this.s*this.n/this.d),a)},round:function(a){a=Math.pow(10,a||0);return isNaN(this.n)||
isNaN(this.d)?new g(NaN):new g(Math.round(a*this.s*this.n/this.d),a)},inverse:function(){return new g(this.s*this.d,this.n)},pow:function(a){return 0>a?new g(Math.pow(this.s*this.d,-a),Math.pow(this.n,-a)):new g(Math.pow(this.s*this.n,a),Math.pow(this.d,a))},equals:function(a,c){k(a,c);return this.s*this.n*b.d===b.s*b.n*this.d},compare:function(a,c){k(a,c);var d=this.s*this.n*b.d-b.s*b.n*this.d;return(0<d)-(0>d)},divisible:function(a,c){k(a,c);return!(!(b.n*this.d)||this.n*b.d%(b.n*this.d))},valueOf:function(){return this.s*
this.n/this.d},toFraction:function(a){var c,d="",l=this.n,b=this.d;0>this.s&&(d+="-");1===b?d+=l:(a&&0<(c=Math.floor(l/b))&&(d=d+c+" ",l%=b),d=d+l+"/",d+=b);return d},toLatex:function(a){var c,d="",b=this.n,g=this.d;0>this.s&&(d+="-");1===g?d+=b:(a&&0<(c=Math.floor(b/g))&&(d+=c,b%=g),d=d+"\\frac{"+b+"}{"+g,d+="}");return d},toContinued:function(){var a=this.n,c=this.d,d=[];do{d.push(Math.floor(a/c));var b=a%c;a=c;c=b}while(1!==a);return d},toString:function(){var a=this.n,c=this.d;if(isNaN(a)||isNaN(c))return"NaN";
if(!g.REDUCE){var d=p(a,c);a/=d;c/=d}a:{for(d=c;0===d%2;d/=2);for(;0===d%5;d/=5);if(1===d)d=0;else{for(var b=10%d,h=1;1!==b;h++)if(b=10*b%d,2E3<h){d=0;break a}d=h}}a:{b=1;h=10;for(var k=d,m=1;0<k;h=h*h%c,k>>=1)k&1&&(m=m*h%c);h=m;for(k=0;300>k;k++){if(b===h){h=k;break a}b=10*b%c;h=10*h%c}h=0}b=-1===this.s?"-":"";b+=a/c|0;(a=a%c*10)&&(b+=".");if(d){for(;h--;)b+=a/c|0,a%=c,a*=10;for(b+="(";d--;)b+=a/c|0,a%=c,a*=10;b+=")"}else for(d=15;a&&d--;)b+=a/c|0,a%=c,a*=10;return b}};"function"===typeof define&&
define.amd?define([],function(){return g}):"object"===typeof exports?module.exports=g:w.Fraction=g})(this);
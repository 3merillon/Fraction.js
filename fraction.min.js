/*
Fraction.js v2.5.0 01/06/2015
http://www.xarg.org/2014/03/precise-calculations-in-javascript/

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(y){"use strict";function u(a,b){for(var c;b;)c=a,a=b,b=c%b;return a}function v(a,b){if(0===b%2)return v(a,b/2);if(0===b%5)return v(a,b/5);for(var c=1;2E3>c;c++)if(1===w(c,b))return c;return 0}function w(a,b){for(var c=10,d=1;0<a;c=c*c%b,a>>=1)a&1&&(d=d*c%b);return d}function k(a,b){var c=0,n=1,g=1,h=0,m=0,k=0,l=1,r=1,e=0,f=1,t=1,q=1;if(void 0!==a&&null!==a)if(void 0!==b)c=a,n=b,g=c*n;else switch(typeof a){case "object":"d"in a&&"n"in a?(c=a.n,n=a.d,"s"in a&&(c*=a.s)):0 in a?(c=a[0],1 in a&&(n=a[1])):
x();g=c*n;break;case "number":0>a&&(g=a,a=-a);if(0===a%1)c=a;else if(0<a){1<=a&&(r=Math.pow(10,Math.floor(1+Math.log(a)/Math.LN10)),a/=r);for(;1E7>=f&&1E7>=q;)if(c=(e+t)/(f+q),a===c){1E7>=f+q?(c=e+t,n=f+q):q>f?(c=t,n=q):(c=e,n=f);break}else a>c?(e+=t,f+=q):(t+=e,q+=f),1E7<f?(c=t,n=q):(c=e,n=f);c*=r}break;case "string":f=a.match(/\d+|./g);"-"===f[e]?(g=-1,e++):"+"===f[e]&&e++;if(f.length===e+1)m=p(f[e++],g);else if("."===f[e+1]||"."===f[e]){"."!==f[e]&&(h=p(f[e++],g));e++;if(e+1===f.length||"("===
f[e+1]&&")"===f[e+3]||"'"===f[e+1]&&"'"===f[e+3])m=p(f[e],g),l=Math.pow(10,f[e].length),e++;if("("===f[e]&&")"===f[e+2]||"'"===f[e]&&"'"===f[e+2])k=p(f[e+1],g),r=Math.pow(10,f[e+1].length)-1,e+=3}else"/"===f[e+1]||":"===f[e+1]?(m=p(f[e],g),l=p(f[e+2],1),e+=3):"/"===f[e+3]&&" "===f[e+1]&&(h=p(f[e],g),m=p(f[e+2],g),l=p(f[e+4],1),e+=5);if(f.length<=e){g=c=k+r*(h*l+m);n=l*r;break}default:x()}if(!n)throw"DIV/0";d.s=0>g?-1:1;d.n=Math.abs(c);d.d=Math.abs(n)}function p(a,b){isNaN(a=parseInt(a,10))&&x();return a*
b}function x(){throw"Invalid Param";}function h(a,b){if(!(this instanceof h))return new h(a,b);k(a,b);h.REDUCE?a=u(d.d,d.n):a=1;this.s=d.s;this.n=d.n/a;this.d=d.d/a}var d={n:0,d:0,s:0};h.REDUCE=1;h.prototype={s:1,n:0,d:1,abs:function(){return new h(this.n,this.d)},neg:function(){return new h(-this.s*this.n,this.d)},add:function(a,b){k(a,b);return new h(this.s*this.n*d.d+d.s*this.d*d.n,this.d*d.d)},sub:function(a,b){k(a,b);return new h(this.s*this.n*d.d-d.s*this.d*d.n,this.d*d.d)},mul:function(a,b){k(a,
b);return new h(this.s*d.s*this.n*d.n,this.d*d.d)},div:function(a,b){k(a,b);return new h(this.s*d.s*this.n*d.d,this.d*d.n)},clone:function(){return new h(this)},mod:function(a,b){if(void 0===a)return new h(this.s*this.n%this.d,1);k(a,b);0===d.n*this.d&&h(0,0);return new h(this.s*d.d*this.n%(d.n*this.d),d.d*this.d)},gcd:function(a,b){k(a,b);return new h(u(d.n,this.n),d.d*this.d/u(d.d,this.d))},ceil:function(){return new h(Math.ceil(this.s*this.n/this.d),1)},floor:function(){return new h(Math.floor(this.s*
this.n/this.d),1)},round:function(){return new h(Math.round(this.s*this.n/this.d),1)},inverse:function(){return new h(this.s*this.d,this.n)},pow:function(a){var b=this.d,c=this.n;0>a?(this.d=Math.pow(c,-a),this.n=Math.pow(b,-a)):(this.d=Math.pow(b,a),this.n=Math.pow(c,a));0===a%2&&(this.s=1);return this},equals:function(a,b){k(a,b);return this.s*this.n*d.d===d.s*d.n*this.d},compare:function(a,b){k(a,b);var c=this.s*this.n*d.d-d.s*d.n*this.d;return(0<c)-(0>c)},divisible:function(a,b){k(a,b);return!!(d.n*
this.d)&&!(this.n*d.d%(d.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(){var a,b="",c=this.n,d=this.d;0>this.s&&(b+="-");1===d?b+=c:(a=Math.floor(c/d),0<a&&(b=b+a+" ",c=c%d),b+=c,b+="/",b+=d);return b},toLatex:function(){var a,b="",c=this.n,d=this.d;0>this.s&&(b+="-");1===d?b+=c:(a=Math.floor(c/d),0<a&&(b+=a,c=c%d),b=b+"\\frac{"+c,b+="}{",b+=d,b+="}");return b},toString:function(){var a,b=this.n,c=this.d;h.REDUCE||(a=u(b,c),b/=a,c/=a);a=String(b).split("");var d=
0,g=[~this.s?"":"-","",""],k="",b=v(b,c),m;a:{for(m=0;300>m;m++)if(w(m,c)===w(m+b,c))break a;m=0}for(var p=-1,l=1,r=10+b+m+a.length,e=0;e<r;e++,d*=10){e<a.length?d+=Number(a[e]):(l=2,p++);if(0<b)if(p===m)g[l]+=k+"(",k="";else if(p===b+m){g[l]+=k+")";break}d>=c?(g[l]+=k+(d/c|0),k="",d%=c):1<l?k+="0":g[l]&&(g[l]+="0")}g[0]+=g[1]||"0";return g[2]?g[0]+"."+g[2]:g[0]}};"function"===typeof define&&define.amd?define([],function(){return h}):"object"===typeof exports?module.exports=h:y.Fraction=h})(this);

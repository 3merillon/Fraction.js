/*
Fraction.js v2.0.0 01/06/2015
http://www.xarg.org/2014/03/precise-calculations-in-javascript/

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(t){"use strict";function p(a,b){for(var d;b;)d=a,a=b,b=d%b;return a}function q(a,b){if(0===b%2)return q(a,b/2);if(0===b%5)return q(a,b/5);for(var d=1;2E3>d;d++)if(1===r(d,b))return d;return 0}function r(a,b){for(var d=10,e=1;0<a;d=d*d%b,a>>=1)a&1&&(e=e*d%b);return e}function m(a,b){var d=0,e=1,c=1,l=0,k=1,h=1,g=1,m=1,n=0;if(void 0!==a)if(void 0!==b)d=a,e=b,c=d*e;else switch(typeof a){case "object":if(null!==a)if("d"in a&&"n"in a)d=a.n,e=a.d,c=d*e,"s"in a&&(c*=a.s);else if(0 in a)d=a[0],1 in a&&(e=a[1]),
c=d*e;else throw"Unknown format";break;case "number":0>a&&(c=a,a=-a);if(0===a%1)d=a;else if(0<a){1<=a&&(m=Math.pow(10,Math.floor(1+Math.log(a)/Math.LN10)),a/=m);for(;1E7>=k&&1E7>=g;)if(e=(l+h)/(k+g),a===e){1E7>=k+g?(d=l+h,e=k+g):g>k?(d=h,e=g):(d=l,e=k);break}else a>e?(l+=h,k+=g):(h+=l,g+=k),1E7<k?(d=h,e=g):(d=l,e=k);d*=m}break;case "string":e=a.split("/");if(2===e.length){d=parseInt(e[0],10);e=parseInt(e[1],10);c=d*e;break}e=a.split("");l=[0,0,0,0,0];k=[0,0,0,0,0];for(g=0;g<e.length;g++)if(h=e[g],
"."===h)if(0===n)n++;else break;else if("("===h||"'"===h||")"===h)if(0<n&&3>n)n++;else break;else if(0!==g||"+"!==h)if(0===g&&"-"===h)c=-1;else if(3>n&&!isNaN(h=parseInt(h,10)))l[n]=10*l[n]+h,k[n]++;else break;if(2===n||g<e.length)throw"Corrupted number";l[3]=Math.pow(10,k[1]);l[4]=0<l[2]?Math.pow(10,k[2])-1:1;d=l[2]+l[4]*(l[0]*l[3]+l[1]);e=l[3]*l[4];c*=d;break;default:throw"Unknown type";}if(!e)throw"DIV/0";f.s=(0<=c)-(0>c);f.n=Math.abs(d);f.d=Math.abs(e)}function c(a,b){m(a,b);a=p(f.d,f.n);this.s=
f.s;this.n=f.n/a;this.d=f.d/a}var f={n:0,d:0,s:0};c.prototype.s=1;c.prototype.n=0;c.prototype.d=1;c.prototype.abs=function(){return new c(this.n,this.d)};c.prototype.add=function(a,b){m(a,b);return new c(this.s*this.n*f.d+f.s*this.d*f.n,this.d*f.d)};c.prototype.sub=function(a,b){m(a,b);return new c(this.s*this.n*f.d-f.s*this.d*f.n,this.d*f.d)};c.prototype.mul=function(a,b){m(a,b);return new c(this.s*f.s*this.n*f.n,this.d*f.d)};c.prototype.div=function(a,b){m(a,b);return new c(this.s*f.s*this.n*f.d,
this.d*f.n)};c.prototype.clone=function(){return new c(this)};c.prototype.mod=function(a,b){m(a,b);0===f.n*this.d&&c(0,0);return new c(this.s*f.d*this.n%(f.n*this.d),f.d*this.d)};c.prototype.gcd=function(a,b){m(a,b);return new c(p(f.n,this.n),f.d*this.d/p(f.d,this.d))};c.prototype.ceil=function(){return new c(Math.ceil(this.s*this.n/this.d),1)};c.prototype.floor=function(){return new c(Math.floor(this.s*this.n/this.d),1)};c.prototype.round=function(){return new c(Math.round(this.s*this.n/this.d),
1)};c.prototype.reciprocal=function(){return new c(this.s*this.d,this.n)};c.prototype.pow=function(a){var b=this.d,d=this.n;0>a?(this.d=Math.pow(d,-a),this.n=Math.pow(b,-a)):(this.d=Math.pow(b,a),this.n=Math.pow(d,a));0===a%2&&(this.s=1);return this};c.prototype.equals=function(a,b){m(a,b);return this.s*this.n*f.d===f.s*f.n*this.d};c.prototype.compare=function(a,b){m(a,b);var d=this.s*this.n*f.d-f.s*f.n*this.d;return(0<d)-(0>d)};c.prototype.divisible=function(a,b){m(a,b);return!!(f.n*this.d)&&!(this.n*
f.d%(f.n*this.d))};c.prototype.valueOf=function(){return this.s*this.n/this.d};c.prototype.toFraction=function(){var a,b="",d=this.n,e=this.d;0>this.s&&(b+="-");1===e?b+=d:(a=Math.floor(d/e),0<a&&(b=b+a+" ",d=d%e),b+=d,b+="/",b+=e);return b};c.prototype.toLatex=function(){var a,b="",d=this.n,e=this.d;0>this.s&&(b+="-");1===e?b+=d:(a=Math.floor(d/e),0<a&&(b+=a,d=d%e),b=b+"\frac{"+d,b+="}{",b+=e,b+="}");return b};c.prototype.toString=function(){var a=String(this.n).split(""),b=this.d,d=0,e=[~this.s?
"":"-","",""],c="",f=q(this.n,this.d),k;a:{k=this.d;for(var h=0;300>h;h++)if(r(h,k)===r(h+f,k)){k=h;break a}k=0}for(var h=-1,g=1,m=10+f+k+a.length,n=0;n<m;n++,d*=10){n<a.length?d+=Number(a[n]):(g=2,h++);if(0<f)if(h===k)e[g]+=c+"(",c="";else if(h===f+k){e[g]+=c+")";break}d>=b?(e[g]+=c+(d/b|0),c="",d%=b):1<g?c+="0":e[g]&&(e[g]+="0")}e[0]+=e[1]||"0";return e[2]?e[0]+"."+e[2]:e[0]};"function"===typeof define&&define.amd?define([],function(){return c}):"object"===typeof exports?module.exports=c:t.Fraction=
c})(this);